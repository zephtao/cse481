"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useServiceCall = void 0;
var ServiceCaller_1 = require("./ServiceCaller");
var RosConnection_1 = require("../RosConnection");
var react_1 = require("react");
function useServiceCall(props) {
    var ros = (0, RosConnection_1.useRos)();
    var name = props.name, serviceType = props.serviceType, callback = props.callback, failedCallback = props.failedCallback;
    var callSrv = (0, react_1.useCallback)(function (request) {
        (0, ServiceCaller_1.callService)(ros, name, serviceType, request, callback, failedCallback);
    }, [ros, name, serviceType, callback, failedCallback]);
    var callSrvPromise = (0, react_1.useCallback)(function (request) {
        return new Promise(function (resolve, reject) {
            (0, ServiceCaller_1.callService)(ros, name, serviceType, request, function (res) { return resolve(res); }, reject);
        });
    }, [ros, name, serviceType]);
    return { callSrv: callSrv, callSrvPromise: callSrvPromise };
}
exports.useServiceCall = useServiceCall;
//# sourceMappingURL=useServiceCall.js.map